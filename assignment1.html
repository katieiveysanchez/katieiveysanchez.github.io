<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Katie Sanchez - Assignments</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Katie Sanchez</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Teaching.html" rel="" target="">
 <span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-assignments" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Assignments</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-assignments">    
        <li>
    <a class="dropdown-item" href="./assignments.html" rel="" target="">
 <span class="dropdown-text">Methods of Data Collection Assignments</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./CV.html" rel="" target="">
 <span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Blog.html" rel="" target="">
 <span class="menu-text">Blog</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#assignment-1" id="toc-assignment-1" class="nav-link active" data-scroll-target="#assignment-1">Assignment #1</a></li>
  <li><a href="#assignment-2" id="toc-assignment-2" class="nav-link" data-scroll-target="#assignment-2">Assignment #2</a></li>
  <li><a href="#assignment-3" id="toc-assignment-3" class="nav-link" data-scroll-target="#assignment-3">Assignment #3</a></li>
  <li><a href="#assignment-5" id="toc-assignment-5" class="nav-link" data-scroll-target="#assignment-5">Assignment #5</a></li>
  <li><a href="#assignment-6" id="toc-assignment-6" class="nav-link" data-scroll-target="#assignment-6">Assignment #6</a></li>
  <li><a href="#assignment-7" id="toc-assignment-7" class="nav-link" data-scroll-target="#assignment-7">Assignment #7</a></li>
  <li><a href="#assignment-8" id="toc-assignment-8" class="nav-link" data-scroll-target="#assignment-8">Assignment #8</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Assignments</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="assignment-1" class="level1">
<h1>Assignment #1</h1>
<p><strong>ANALYZE SURVEY</strong></p>
<p>a. How is the survey structured?</p>
<p>The survey is structured with various closed choice responses. For instance, some questions use a version of a likert scale and some questions contain multiple choice responses. In general, the most interesting/important questions appear first; demographic information appears last. The survey is eighteen questions long in total, and seems like it would take about 5 minutes to complete.</p>
<p>b. What is the questionnaire composed of?</p>
<p>The content of the questionnaire is composed of questions about consumer preferences in film. For instance, does the participant find nudity to be acceptable in movies? There are also questions about consumer habits in how they watch movies. For instance, how much would the respondent be willing to pay for movie-watching software? Clearly, this consumer survey is trying to find the right market for a software product.</p>
</section>
<section id="assignment-2" class="level1">
<h1>Assignment #2</h1>
<p>Google Trends is a point and click approach using a website, while the R package is a command line based programming approach. Initially, R give you the data in a list format, which you can then convert to a data frame. Google Trends lets you download a CSV file of the data. In the R dataframe, each observation is listed as a day. In the Google Trends CSV, each observation is listed as a week. The R program allows us to be more precise in pulling data.</p>
</section>
<section id="assignment-3" class="level1">
<h1>Assignment #3</h1>
<p>After creating a document feature matrix from the Biden-Xi summit tweet data, we begin to uncover the main topics of public (Twitter) discourse around this event. For instance, top Twitter hash tags include the leadersâ€™ names plus hash tags for #coronavirus and #fentanyl, as well as #uyghurgenocide. These are more topical in nature and suggest main global events of concern at the time involving both China and the US.</p>
<p><img src="./assignment3.png" class="img-fluid"></p>
</section>
<section id="assignment-5" class="level1">
<h1>Assignment #5</h1>
<ol type="1">
<li>After many many attempts trying to gain access, I still could not get my app approved via the Google developer console. Similar to issues many faced with the Google Trends package in R, it appears Google has become more stringent lately with data access.</li>
</ol>
<p><img src="images/Screenshot 2023-12-08 at 10.56.27 AM-01.png" class="img-fluid"></p>
<pre><code>client_id &lt;- "244399085592-ijtmil6iqpbsvmb9cnj74ho7s6cruro4.apps.googleusercontent.com"
client_secret &lt;- "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"
yt_oauth("client_id","client_secret", token = "AIzaSyCsFhpTjZMiZ1wVDIAezmROymKXz7K_BiU")

yt_israelprotest = yt_search(term = "Israel protest")

# List of categories (region filter: US)

videocat_us= list_videocats(c(region_code = "us")) \# = Download and prepare data = \# mostpop = list_videos()

mostpop_us = list_videos(video_category_id = "25", region_code = "US", max_results = 10)

# Find the channel ID in the source page

# Alternatively, from get_video_details

# = Channel stats =

nbcnews_stat = get_channel_stats("UCeY0bbntWzzVIaj2z3QigXg") nbcnews_detail = get_video_details(video_id = "to0YqKKRIWY")

# = Videos =

curl::curl_version() httr::set_config(httr::config(http_version = 0)) \# Fix curl issue

nbc_videos1 = yt_search(term="", type="video", channel_id = "UCeY0bbntWzzVIaj2z3QigXg") nbc_videos = nbc_videos1 %\&gt;% mutate(date = as.Date(publishedAt)) %\&gt;% filter(date \&gt; "2022-11-27") %\&gt;% arrange(date) samplecomment = get_comment_threads(c(video_id = "to0YqKKRIWY"), max_results = 600) samplecomment2 = get_all_comments(c(video_id = "to0YqKKRIWY"), max_results = 600) \# = Comments, may take a long time \# nbc_comments = lapply(as.character(nbc_videos1\$video_id), function(x){ get_comment_threads(c(video_id = x), max_results = 101) }) </code></pre>
<pre><code></code></pre>
</section>
<section id="assignment-6" class="level1">
<h1>Assignment #6</h1>
<p><img src="./wordcloudmlk.png" class="img-fluid"></p>
<p><img src="./wcwordcloud.png" class="img-fluid"></p>
</section>
<section id="assignment-7" class="level1">
<h1>Assignment #7</h1>
<ol type="1">
<li>Downloading gov files</li>
</ol>
<p>Time difference of 2.400633 mins</p>
<p>Number of cores = 4L</p>
<p><code>{r}---#packageslibrary(parallel)library(pdftools)library(rvest)#URLwebsite_url &lt;- "https://www.congress.gov/house-hearing-transcripts/118th-congress"# Fetch the HTML contentwebsite_content &lt;- read_html(website_url)# Extract linkspdf_links &lt;- website_content %&gt;%   html_nodes(xpath = "//a[contains(@href, '.pdf')]") %&gt;%   html_attr("href")# Set the destination directory for downloaded filesdownload_dir &lt;- "/Users/katiewidner/Downloads/downloaded_pdfs/"# Create the destination directory if it doesn't existif (!dir.exists(download_dir)) {  dir.create(download_dir)}# Download PDF filesfor (pdf_link in pdf_links) {  pdf_file &lt;- basename(pdf_link)  download.file(paste0(website_url, pdf_link), destfile = file.path(download_dir, pdf_file), mode = "wb")}# List all downloaded PDF files in the directorypdf_files_local &lt;- list.files(download_dir, pattern = "\\.pdf$", full.names = TRUE)# Get the number of cores available on your machinenum_cores &lt;- detectCores()# Initialize a cluster with the number of available corescl &lt;- makeCluster(num_cores)# Load libraries and functions in each clusterclusterEvalQ(cl, {  library(pdftools)})# Define the function to be parallelized after making the clustersread_pdf_to_text &lt;- function(uri) {  text &lt;- pdftools::pdf_text(uri)  return(text)}# Perform the parallel computationtic()pdf_texts &lt;- parLapply(pdf_files_local, read_pdf_to_text, mc.cores = num_cores)toc()# stop the clusterstopCluster(cl)</code></p>
</section>
<section id="assignment-8" class="level1">
<h1>Assignment #8</h1>
<p>Note: Error in <code>get_acs()</code>:! The regular 1-year ACS for 2020 was not released and is not available intidycensus.</p>
<p>Therefore, 2009 and 2018 are compared below.</p>
<p>Looking at these plots we observe several trends. Florida actually appears to be getting slightly younger as a function of media age, which is interesting. The median age in Washington has also decreased. Maine appears to have the oldest median age in both plots.</p>
<p><img src=".png" class="img-fluid"></p>
<p><img src="./2009.png" class="img-fluid"></p>
<p><img src=".png" class="img-fluid"></p>
<p><img src="./2018.png" class="img-fluid"></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>